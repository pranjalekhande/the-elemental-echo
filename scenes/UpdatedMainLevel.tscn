[gd_scene load_steps=10 format=4 uid="uid://updated_main_level"]

[ext_resource type="PackedScene" path="res://scenes/components/CaveBackground.tscn" id="1"]
[ext_resource type="PackedScene" path="res://scenes/components/LevelBoundaries.tscn" id="2"]
[ext_resource type="PackedScene" path="res://scenes/Echo.tscn" id="3"]
[ext_resource type="PackedScene" path="res://scenes/IceWall.tscn" id="4"]
[ext_resource type="PackedScene" path="res://scenes/Heartspring.tscn" id="5"]
[ext_resource type="Script" uid="uid://m6dd1yn8y6qe" path="res://src/TextTrigger.gd" id="6"]
[ext_resource type="Script" path="res://src/UpdatedMainLevel.gd" id="7"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_text1"]
size = Vector2(200, 200)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_text2"]
size = Vector2(200, 200)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_text3"]
size = Vector2(200, 200)

[node name="UpdatedMainLevel" type="Node2D"]
script = ExtResource("7")

# MODULAR BACKGROUND SYSTEM (replaces old BG ColorRect)
[node name="CaveBackground" parent="." instance=ExtResource("1")]

# MODULAR BOUNDARY SYSTEM (replaces manual platforms and ground)
[node name="LevelBoundaries" parent="." instance=ExtResource("2")]

# PLAYER CHARACTER (same position as original)
[node name="Echo" parent="." instance=ExtResource("3")]
position = Vector2(0, -100)

# EXISTING GAME OBJECTS (preserved exactly)
[node name="IceWall" parent="." instance=ExtResource("4")]
position = Vector2(400, 0)

[node name="Heartspring" parent="." instance=ExtResource("5")]
position = Vector2(700, 0)

# EXISTING TEXT TRIGGERS (preserved with same messages and positions)
[node name="SpawnTextTrigger" type="Area2D" parent="."]
position = Vector2(100, 0)
script = ExtResource("6")
trigger_message = "The air here feels... still. Something stirs within me."
show_once = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="SpawnTextTrigger"]
shape = SubResource("RectangleShape2D_text1")

[node name="WallTextTrigger" type="Area2D" parent="."]
position = Vector2(300, 0)
script = ExtResource("6")
trigger_message = "A deep cold lingers in this ice. Fire might loosen this grip."
show_once = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="WallTextTrigger"]
shape = SubResource("RectangleShape2D_text2")

[node name="HeartspringTextTrigger" type="Area2D" parent="."]
position = Vector2(600, 0)
script = ExtResource("6")
trigger_message = "This pulse... it is so weak. Yet hope flickers within."
show_once = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="HeartspringTextTrigger"]
shape = SubResource("RectangleShape2D_text3")

# CONNECTIONS (preserved from original)
[connection signal="body_entered" from="SpawnTextTrigger" to="SpawnTextTrigger" method="_on_body_entered"]
[connection signal="body_entered" from="WallTextTrigger" to="WallTextTrigger" method="_on_body_entered"]
[connection signal="body_entered" from="HeartspringTextTrigger" to="HeartspringTextTrigger" method="_on_body_entered"] 